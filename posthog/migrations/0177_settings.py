# Generated by Django 3.2.5 on 2021-10-20 00:30

from django.db import migrations, models


def seed_settings_singleton_row(apps, schema_editor):
    # We can't import the Settings model directly as it may be a newer
    # version than this migration expects. We use the historical version.
    Settings = apps.get_model("posthog", "Settings")
    row = Settings()
    row.save()


class Migration(migrations.Migration):

    dependencies = [
        ("posthog", "0176_update_person_props_function"),
    ]

    operations = [
        migrations.CreateModel(
            name="Settings",
            fields=[
                ("lock", models.CharField(default="X", max_length=1, primary_key=True, serialize=False)),
                ("materialized_columns_enabled", models.BooleanField(default=True)),
            ],
        ),
        migrations.RunPython(seed_settings_singleton_row),
    ]
